import{o as m,c as p,a as c,t as _,b as G,n as g,F as y,r as b,d as h,e as x,f as O}from"./vendor.36b06441.js";const k=function(){const i=document.createElement("link").relList;if(i&&i.supports&&i.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))t(l);new MutationObserver(l=>{for(const a of l)if(a.type==="childList")for(const e of a.addedNodes)e.tagName==="LINK"&&e.rel==="modulepreload"&&t(e)}).observe(document,{childList:!0,subtree:!0});function d(l){const a={};return l.integrity&&(a.integrity=l.integrity),l.referrerpolicy&&(a.referrerPolicy=l.referrerpolicy),l.crossorigin==="use-credentials"?a.credentials="include":l.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function t(l){if(l.ep)return;l.ep=!0;const a=d(l);fetch(l.href,a)}};k();const S={class:"cell round"},I={class:"info"},L=c("div",{class:"small"},"Step",-1),N={class:"large"},A={key:0,class:"cell game-over"},C=c("div",{class:"game-status"},"Game Over",-1),M={class:"controls"},B={class:"cell score"},E={class:"info"},F=c("div",{class:"small"},"Score",-1),R={class:"large"},P=["onClick"];function V(r,i,d,t,l,a){return m(),p("article",null,[c("header",null,[c("div",S,[c("div",I,[L,c("div",N,_(t.game.currentIndex),1)])]),t.gameOver?(m(),p("div",A,[C,c("div",M,[c("button",{type:"button",onClick:i[0]||(i[0]=(...e)=>t.newGame&&t.newGame(...e))},"New Game")])])):G("",!0),c("div",B,[c("div",E,[F,c("div",R,_(t.game.score),1)])])]),c("section",null,[c("div",{class:g(["game",{gameover:t.gameOver}])},[(m(!0),p(y,null,b(t.game.steps,(e,f)=>(m(),p("div",{class:g(["steps",{"hide-step":f<t.visibleRows.min||f>t.visibleRows.max,"current-step":f===t.game.currentIndex}])},[(m(!0),p(y,null,b(e.tiles,v=>(m(),p("div",{class:g(["step",{selected:e.yourGuess===v,broken:e.badGuess===v}]),onClick:s=>t.selectStep(f,v)},_(v),11,P))),256))],2))),256))],2)])])}var j=(r,i)=>{const d=r.__vccOpts||r;for(const[t,l]of i)d[t]=l;return d};const q=[{tiles:8},{tiles:7},{tiles:7},{tiles:5},{tiles:4},{tiles:3},{tiles:4},{tiles:5},{tiles:4},{tiles:5},{tiles:6},{tiles:7},{tiles:8},{tiles:7},{tiles:6},{tiles:5},{tiles:4},{tiles:3},{tiles:2},{tiles:3},{tiles:4},{tiles:5},{tiles:4},{tiles:5},{tiles:6},{tiles:5},{tiles:4},{tiles:3},{tiles:2}],z=r=>{for(let i=r.length-1;i>0;i--){const d=Math.floor(Math.random()*(i+1)),t=r[i];r[i]=r[d],r[d]=t}return r},D={setup(){const r=h(!1),i=(s,n)=>{let o=Math.floor(Math.random()*(s*(s+1)/2))+1,u=-1;return o>=45?u=10:o>=36?u=9:o>=28?u=8:o>=21?u=7:o>=15?u=6:o>=11?u=5:o>=7?u=4:o>=4?u=3:o>=2?u=2:o>=1&&(u=1),u!==n},d=()=>{f(),r.value=!1},t=(s,n)=>{r.value=!0},l=(s,n)=>{e.value.steps[s].yourGuess=n,e.value.currentIndex++},a=(s,n)=>{if(r.value||s!==e.value.currentIndex)return;i(e.value.steps[s].tiles.length,n)?e.value.currentIndex==28?(e.value.steps[s].yourGuess=n,t()):(e.value.score+=n,l(s,n)):(e.value.steps[s].badGuess=n,r.value=!0)};let e=h({});const f=()=>{e.value.score=0,e.value.currentIndex=0,e.value.steps=[],q.forEach(s=>{for(var n=[],o=0;o<s.tiles;++o)n[o]=o+1;e.value.steps.push({tiles:z(n)})})};h([null]),f();const v=x(()=>{let s=0,n=10;return e.value.currentIndex>4&&(s=e.value.currentIndex-5,n=e.value.currentIndex+5),n>=e.value.steps.length&&(s=e.value.steps.length-11,n=e.value.steps.length),{min:s,max:n}});return x(()=>{let s=0;return e.value.currentIndex>5&&(s=e.value.currentIndex-6,console.log("using min")),e.value.steps.slice(s,10)}),{selectStep:a,newGame:d,gameOver:r,visibleRows:v,game:e}}};var K=j(D,[["render",V]]);O(K).mount("#app");
